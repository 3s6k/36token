<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Discord Token Information Extractor</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #23272a; color: #ffffff; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        .danger-zone { border: 2px solid #f04747; padding: 20px; border-radius: 10px; background: #2f3136; margin-bottom: 20px; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .info-box { background: #36393f; padding: 15px; border-radius: 8px; border-left: 5px solid #5865f2; }
        input { width: 70%; padding: 10px; background: #40444b; color: white; border: 1px solid #202225; border-radius: 5px; }
        button { padding: 10px 20px; background: #5865f2; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #4752c4; }
        .avatar { width: 80px; height: 80px; border-radius: 50%; margin-bottom: 10px; border: 2px solid #fff; }
        pre { background: #000; color: #0f0; padding: 10px; font-size: 12px; overflow-x: auto; border-radius: 5px; }
        .tag { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 12px; background: #4f545c; margin-right: 5px; }
        .billing-active { color: #3ba55b; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸš¨ ãƒˆãƒ¼ã‚¯ãƒ³æµå‡ºè¢«å®³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
    <p>ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€æ”»æ’ƒè€…ãŒã‚ãªãŸã®ä½•ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚’å®Ÿæ¼”ã—ã¾ã™ã€‚</p>

    <div class="danger-zone">
        <input type="password" id="token" placeholder="ã“ã“ã«æ¤œè¨¼ç”¨ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›">
        <button onclick="fetchAllData()">æƒ…å ±ã‚’ã¶ã£ã“æŠœã</button>
    </div>

    <div id="result" style="display:none;">
        <div class="info-box" style="text-align: center; border-left: none; border-bottom: 5px solid #5865f2;">
            <img id="u_avatar" class="avatar" src="">
            <h2 id="u_name">---</h2>
            <p id="u_id">ID: ---</p>
            <div id="u_badges"></div>
        </div>

        <div class="info-grid">
            <div class="info-box">
                <h3>ğŸ‘¤ åŸºæœ¬ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h3>
                <p>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: <span id="u_email">---</span></p>
                <p>é›»è©±ç•ªå·: <span id="u_phone">---</span></p>
                <p>2æ®µéšèªè¨¼(2FA): <span id="u_2fa">---</span></p>
                <p>NitroçŠ¶æ…‹: <span id="u_nitro">---</span></p>
            </div>
            <div class="info-box">
                <h3>ğŸ’³ æ”¯æ‰•ã„æƒ…å ± (é‡è¦)</h3>
                <p id="u_billing" class="billing-active">æœªç¢ºèª</p>
                <p><small>â€»ã‚«ãƒ¼ãƒ‰ç•ªå·ã®ä¸‹4æ¡ã‚„ä½æ‰€ãŒæŠœã‹ã‚Œã‚‹å±é™ºæ€§ã‚’ç¤ºå”†</small></p>
            </div>
            <div class="info-box">
                <h3>å¯¾äººé–¢ä¿‚ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</h3>
                <p>ãƒ•ãƒ¬ãƒ³ãƒ‰æ•°: <span id="u_friends">---</span></p>
                <p>æ‰€å±ã‚µãƒ¼ãƒãƒ¼æ•°: <span id="u_guilds">---</span></p>
            </div>
            <div class="info-box">
                <h3>ğŸ”— é€£æºæ¸ˆã¿ã‚µãƒ¼ãƒ“ã‚¹</h3>
                <div id="u_connections">---</div>
            </div>
        </div>

        <h3 style="margin-top:30px;">ğŸ“„ ç”Ÿã®ãƒ‡ãƒ¼ã‚¿ï¼ˆæ”»æ’ƒè€…ãŒå–å¾—ã™ã‚‹JSONï¼‰</h3>
        <pre id="raw_json"></pre>
    </div>
</div>

<script>
async function api(endpoint) {
    const token = document.getElementById('token').value;
    const res = await fetch(`https://discord.com/api/v9${endpoint}`, {
        headers: { 'Authorization': token }
    });
    return res.ok ? res.json() : null;
}

async function fetchAllData() {
    const token = document.getElementById('token').value;
    if(!token) return alert("ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");

    document.getElementById('result').style.display = 'block';

    // 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼åŸºæœ¬æƒ…å ±
    const user = await api('/users/@me');
    if(!user) return alert("ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹ã§ã™");

    document.getElementById('u_name').innerText = `${user.username}#${user.discriminator || '0'}`;
    document.getElementById('u_id').innerText = `ID: ${user.id}`;
    document.getElementById('u_avatar').src = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`;
    document.getElementById('u_email').innerText = user.email || "æœªç™»éŒ²";
    document.getElementById('u_phone').innerText = user.phone || "æœªç™»éŒ²";
    document.getElementById('u_2fa').innerText = user.mfa_enabled ? "âœ… æœ‰åŠ¹ (ã§ã‚‚ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚ã‚Œã°çªç ´å¯èƒ½)" : "âŒ ç„¡åŠ¹";
    document.getElementById('u_nitro').innerText = user.premium_type ? "ğŸ’ NitroåŠ å…¥ä¸­" : "ãªã—";
    document.getElementById('raw_json').innerText = JSON.stringify(user, null, 2);

    // 2. æ‰€å±ã‚µãƒ¼ãƒãƒ¼ãƒ»ãƒ•ãƒ¬ãƒ³ãƒ‰æ•°
    const guilds = await api('/users/@me/guilds') || [];
    const friends = await api('/users/@me/relationships') || [];
    document.getElementById('u_guilds').innerText = guilds.length;
    document.getElementById('u_friends').innerText = friends.length;

    // 3. é€£æºã‚µãƒ¼ãƒ“ã‚¹ (Steam, Twitterç­‰)
    const conns = await api('/users/@me/connections') || [];
    document.getElementById('u_connections').innerHTML = conns.map(c => `<span class="tag">${c.type}: ${c.name}</span>`).join('') || "ãªã—";

    // 4. æ”¯æ‰•ã„æƒ…å ±ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
    const billing = await api('/users/@me/billing/payment-sources') || [];
    const billingDiv = document.getElementById('u_billing');
    if (billing.length > 0) {
        billingDiv.innerText = "ğŸš¨ æ”¯æ‰•ã„æƒ…å ±ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ï¼(æ‚ªç”¨ã®å±é™ºå¤§)";
        billingDiv.style.color = "#f04747";
    } else {
        billingDiv.innerText = "ç™»éŒ²ãªã—";
        billingDiv.style.color = "#3ba55b";
    }
}
</script>
</body>
</html>
